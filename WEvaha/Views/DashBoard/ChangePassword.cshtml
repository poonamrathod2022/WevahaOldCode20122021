
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_Layout_New_Dashboard.cshtml";
}
@model WEvaha.Models.DashboardProfileModel

<script src="~/Scripts/jquery-3.6.0.min.js"></script>
<!--<script src="~/js/jquery-3.2.1.min.js"></script>-->
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/mvc/5.1/jquery.validate.unobtrusive.min.js"></script>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-sweetalert/1.0.1/sweetalert.css'>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<style>
    .ReDot {
        color: #F00;
    }
</style>

<div class="container-fluid" style="background:url(../img/banner/regisBg.jpg) center no-repeat; overflow:hidden; z-index:0;">
    @{
        string Name = Convert.ToString(Session["UserFullName"]);
    }
    <div class="container">
        <div class="row" style="margin-top:20px;">
            <div class="col-md-10 col-xs-offset-1">
                <form id="CPForm" name="CPForm">
                    @Html.AntiForgeryToken()
                    <div class="row">
                        <div class="col-md-12" style="padding:15px 0px 15px 0px;">
                            <div class="mainH1" style="text-align:center;">Change Password</div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-8 col-xs-offset-2" style="background:#fff; padding:30px; border-radius:10px;">

                            <div style="float:left; margin-right:100px; font-size:15px; font-weight:bold; padding-top:10px;  width:150px;">New Password <span class="ReDot">*</span></div>
                            @Html.HiddenFor(model => model.resetPassword.UserId)
                            <div style="float:left; width:300px;"><input class="form-control" type="password" name="NewPassword" id="NewPassword" placeholder="Enter your New Password" required></div>

                            <div style="float:left; margin-right:100px; font-size:15px; font-weight:bold; padding-top:10px;  width:150px;">Confirm Password <span class="ReDot">*</span></div> <div style="float:left; width:300px;"><input class="form-control" type="password" name="ConfirmPassword" id="ConfirmPassword" placeholder="Re-enter your New Password" required></div>






                            @*<div class="form-group has-search" style="background:#fff; border-radius:10px; float:left; width:100%; margin:30px 0px;">
                                    <span class="fa fa-envelope form-control-feedback"></span>
                                    @Html.HiddenFor(model => model.resetPassword.UserId)
                                    <input type="password" name="NewPassword" id="NewPassword" class="form-control" placeholder="Enter your New Password" style="opacity:1; padding-bottom:23px; padding-top:23px;">
                                </div>
                                <div class="form-group has-search" style="background:#fff; border-radius:10px; float:left; width:100%; margin:30px 0px;">
                                    <span class="fa fa-envelope form-control-feedback"></span>
                                    <input type="password" name="ConfirmPassword" id="ConfirmPassword" class="form-control" placeholder="Re-enter your New Password" style="opacity:1; padding-bottom:23px; padding-top:23px;">
                                </div>*@
                            <div style="float:left; width:100%; text-align:center; margin-top:20px;">
                                <button type="submit" value="submit" id="btncSubmit" name="btncSubmit" style="background:#E00150; color:#fff; border-radius:10px; padding:10px 15px; font-size:16px; font-weight:500; border:none; ">SUBMIT</button>
                            </div>


                            @*<div style="float:left; width:100%; ">
                                    <button class="btn-group-lg" type="submit" value="submit" id="btnSubmit" style="background:#F30; padding:10px 20px; border:0px; font-size:16px; color:#fff; border-radius:10px; cursor:pointer;">Submit</button>
                                </div>*@
                        </div>
                    </div>

                </form>
                </br>

            </div>
        </div>
    </div>

</div>


<section class="feature_area section_gap_top1">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="main_title text-center">
                    <h2 class="mb-3 wevahaHead"><span style="color:#00bcd5;">Spend Time</span>&nbsp;<span style="color:#FF3300;">–</span>&nbsp;<span style="color:#B0B000;">It’s your Life</span></h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4">
                <div class="single_feature">
                    <div class="icon text-center"><img src="../img/match_icon.png" width="130" height="130" alt="match"></div>
                    <div class="desc">
                        <h4 class="mt-3 mb-2 text-center" style="color:#ef5d54;">Like-Minded Connections</h4>
                        <p>
                            WE do things a little differently, while you provide us your requirements our system’s Best-Algorithms will Predict &amp; Present Like-Minded Matches for you to choose from.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-4">
                <div class="single_feature">
                    <div class="icon text-center"><img src="../img/help_icon.png" width="130" height="130" alt="match"></div>
                    <div class="desc">
                        <h4 class="mt-3 mb-2 text-center" style="color:#00aeae;">Traditional Affinity</h4>
                        <p>
                            WE Value Traditions the most, but within those traditions a Compatibility Companion is what we value the utmost. WE are here to help you to make you do it Right.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-4">
                <div class="single_feature">
                    <div class="icon text-center"><img src="../img/secured_icon.png" width="130" height="130" alt="match"></div>
                    <div class="desc">
                        <h4 class="mt-3 mb-2 text-center" style="color:#617bbe;">Secure &amp; Confidential</h4>
                        <p>
                            WE have a Secure Development Life Cycle for Vulnerability Management to help &amp; secure Data by Encryption process to provide protection, Confidentiality &amp; Integrity.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">
    $(document).ready(function () {
        $('#btncSubmit').click(function () {
            var token = $('input[type=hidden][name=__RequestVerificationToken]', document).val(); 
            $("#CPForm").validate({
                rules: {
                    NewPassword: {
                        required: true,
                        minlength: 6
                    },

                    ConfirmPassword: {
                        required: true,
                        equalTo: "#NewPassword"
                    }
                },
                messages: {
                    NewPassword: {
                        required: "Enter password",
                        minlength: "Password must be at least 6 characters long"
                    },
                    ConfirmPassword: {
                        required: "Enter confirm password",
                        equalTo: "Password and Confirm password Miss-match"
                    }
                },
                    submitHandler: function (form) { // for demo
                        var NewPassword, ConfirmPassword;
                        NewPassword = $("#NewPassword").val();
                        ConfirmPassword = $("#ConfirmPassword").val();
                        $.ajax({
                            type: 'POST',
                            url: "@(Url.Action("SaveChangePassword", "DashBoard"))",
                            data: { __RequestVerificationToken: token, NewPassword: NewPassword },
                            success: function (data) {                                                                 
                                swal({
                                    icon: "success",
                                    text: "Password updated Successfully..!",
                                    type: "success",
                                    buttons: false
                                });
                                window.setTimeout(function () { window.location = "../DashBoard/DashBoard"; }, 3000);
                                                               
                            },
                            error: function () {
                                swal({
                                    icon: "warning",
                                    text: "Something Could be wrong",
                                    type: "success",
                                    buttons: false
                                });
                                window.setTimeout(function () { window.location = "../DashBoard/DashBoard"; }, 3000);
                            }
                      });
                    }
            });

        });
    });
</script>





@*<script type="text/javascript">
        $(document).ready(function () {
            $("#btnSubmit").click(function () {
                $('#CPForm').validate({ // initialize the plugin
                        rules: {
                            NewPassword: {
                                required: true,
                                minlength: 6
                            },
                            ConfirmPassword: {
                                required: true,
                                equalTo: "#NewPassword"
                            }
                        },
                        messages: {
                            NewPassword: {
                                required: "Enter password",
                                minlength: "Password must be at least 6 characters long"
                            },
                            ConfirmPassword: {
                                required: "Enter confirm password",
                                equalTo: "Password and Confirm password Miss-match"
                            }
                        },
                        submitHandler: function (form) { // for demo
                            var valdata = $("#CPForm").serialize();
                            $.ajax({
                                type: 'POST',
                                dataType: 'json',
                                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                                url: "@(Url.Action("ChangePassword", "DashBoard"))",
                                data: valdata,
                                success: function (data) {
                                    swal({
                                        icon: "warning",
                                        text: "Your password Successfully changed.",
                                        type: "success",
                                        buttons: false
                                    });
                                    window.setTimeout(function () { window.location = "../DashBoard/DashBoard"; }, 3000);
                                }
                          });
                        }
                    });
                });
            });
    </script>*@

